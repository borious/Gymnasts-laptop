<div class="view intro-2">
  <div class="full-bg-img">
  </div>
</div>

<div class="container mt-5" >
  <div class="row">
    <div class="col-md-12">
  <h2 class="content text-center">Registration Form for Judges</h2>
  <form [formGroup]="registrationForm">
      <div class="form-group">
          <label>First Name</label>
          <input [class.is-invalid]="registrationForm.get('firstName').invalid &&
                                     registrationForm.get('firstName').touched" formControlName='firstName'
              type="text" class="form-control" />
          <small [class.d-none]="registrationForm.get('firstName').valid ||
                          registrationForm.get('firstName').untouched" class="text-danger">First Name is
              required</small>
      </div>

      <div class="form-group">
          <label>Middle Name</label>
          <input [class.is-invalid]="registrationForm.get('middleName').invalid &&
                                     registrationForm.get('middleName').touched" formControlName='middleName'
              type="text" class="form-control" />

          <div *ngIf="registrationForm.get('middleName').invalid &&
              registrationForm.get('middleName').touched">
              <small *ngIf="registrationForm.get('middleName').errors?.required" class="text-danger">Middle Name is
                  required</small>
              <small *ngIf="registrationForm.get('middleName').errors?.minlength" class="text-danger">Middle Name must
                  be at least 3 characters</small>
          </div>
      </div>

      <div class="form-group">
          <label>Last Name</label>
          <input formControlName='lastName' type="text" class="form-control" />
      </div>

      <div class="form-group">
          <label>Category</label>
          <select class="custom-select"  (blur)="validateCategory(registrationForm.get('category').value)" (change)="validateCategory(registrationForm.get('category').value)" [class.is-invalid]="categoryHasError && registrationForm.get('category').touched" formControlName='category'>
              <option value='default'>Choose category</option>
                 <option *ngFor="let category of categories"> {{category}} </option>
          </select>
          <small [class.d-none]="!categoryHasError || registrationForm.get('category').untouched">Please chose category</small>
      </div>


      <!-- this Blur and Change are from Vishwas video for checking the default value if it is set from the surver (blur)="validateTopic(topic.value)" (change)="validateTopic(topic.value)"
            -->

      <div class="form-group">
          <label>License Number</label>
          <input  [class.is-invalid]="registrationForm.get('licenseNumber').invalid  &&
          registrationForm.get('licenseNumber').touched" formControlName='licenseNumber' type="text" class="form-control" />
          <small [class.d-none]="registrationForm.get('licenseNumber').valid ||
          registrationForm.get('licenseNumber').untouched" class="text-danger">Only numbers from 0-9 are allowed</small>
      </div>

      <button class="btn btn-primary" type="submit"> Register</button>

  </form>
  {{registrationForm.value | json}}
</div>
</div>
</div>

<app-image-upload></app-image-upload>
